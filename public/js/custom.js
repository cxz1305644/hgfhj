//重写了common.js里的同名函数
function RevertComment(i){$("#inpRevID").val(i);var frm=$('#comment'),cancel=$("#cancel-reply"),temp=$('#temp-frm');var div=document.createElement('div');div.id='temp-frm';div.style.display='none';frm.before(div);$('#AjaxComment'+i).before(frm);frm.addClass("");cancel.show();cancel.click(function(){$("#inpRevID").val(0);var temp=$('#temp-frm'),frm=$('#comment');if(!temp.length||!frm.length)return;temp.before(frm);temp.remove();$(this).hide();frm.removeClass("");return false});try{$('#txaArticle').focus()}catch(e){}return false}
//重写GetComments，防止评论框消失
function GetComments(logid,page){$('span.commentspage').html("Waiting...");$.get(bloghost+"zb_system/cmd.php?act=getcmt&postid="+logid+"&page="+page,function(data){$('#AjaxCommentBegin').nextUntil('#AjaxCommentEnd').remove();$('#AjaxCommentEnd').before(data);$("#cancel-reply").click()})}
function CommentComplete(){$("#cancel-reply").click()}
(function(e){"use strict";Date.now=Date.now||function(){return+(new Date)},e.ias=function(t){function u(){var t;i.onChangePage(function(e,t,r){s&&s.setPage(e,r),n.onPageChange.call(this,e,r,t)});if(n.triggerPageThreshold>0)a();else if(e(n.next).attr("href")){var u=r.getCurrentScrollOffset(n.scrollContainer);E(function(){p(u)})}return s&&s.havePage()&&(l(),t=s.getPage(),r.forceScrollTop(function(){var n;t>1?(v(t),n=h(!0),e("html, body").scrollTop(n)):a()})),o}function a(){c(),n.scrollContainer.scroll(f)}function f(){var e,t;e=r.getCurrentScrollOffset(n.scrollContainer),t=h(),e>=t&&(m()>=n.triggerPageThreshold?(l(),E(function(){p(e)})):p(e))}function l(){n.scrollContainer.unbind("scroll",f)}function c(){e(n.pagination).hide()}function h(t){var r,i;return r=e(n.container).find(n.item).last(),r.size()===0?0:(i=r.offset().top+r.height(),t||(i+=n.thresholdMargin),i)}function p(t,r){var s;s=e(n.next).attr("href");if(!s)return n.noneleft&&e(n.container).find(n.item).last().after(n.noneleft),l();if(n.beforePageChange&&e.isFunction(n.beforePageChange)&&n.beforePageChange(t,s)===!1)return;i.pushPages(t,s),l(),y(),d(s,function(t,i){var o=n.onLoadItems.call(this,i),u;o!==!1&&(e(i).hide(),u=e(n.container).find(n.item).last(),u.after(i),e(i).fadeIn()),s=e(n.next,t).attr("href"),e(n.pagination).replaceWith(e(n.pagination,t)),b(),c(),s?a():l(),n.onRenderComplete.call(this,i),r&&r.call(this)})}function d(t,r,i){var s=[],o,u=Date.now(),a,f;i=i||n.loaderDelay,e.get(t,null,function(t){o=e(n.container,t).eq(0),0===o.length&&(o=e(t).filter(n.container).eq(0)),o&&o.find(n.item).each(function(){s.push(this)}),r&&(f=this,a=Date.now()-u,a<i?setTimeout(function(){r.call(f,t,s)},i-a):r.call(f,t,s))},"html")}function v(t){var n=h(!0);n>0&&p(n,function(){l(),i.getCurPageNum(n)+1<t?(v(t),e("html,body").animate({scrollTop:n},400,"swing")):(e("html,body").animate({scrollTop:n},1e3,"swing"),a())})}function m(){var e=r.getCurrentScrollOffset(n.scrollContainer);return i.getCurPageNum(e)}function g(){var t=e(".ias_loader");return t.size()===0&&(t=e('<div class="ias_loader">'+n.loader+"</div>"),t.hide()),t}function y(){var t=g(),r;n.customLoaderProc!==!1?n.customLoaderProc(t):(r=e(n.container).find(n.item).last(),r.after(t),t.fadeIn())}function b(){var e=g();e.remove()}function w(t){var r=e(".ias-trigger");return r.size()===0&&(r=e('<div class="ias-trigger"><a href="#">'+n.trigger+"</a></div>"),r.hide()),e("a",r).unbind("click").bind("click",function(){return S(),t.call(),!1}),r}function E(t){var r=w(t),i;n.customTriggerProc!==!1?n.customTriggerProc(r):(i=e(n.container).find(n.item).last(),i.after(r),r.fadeIn())}function S(){var e=w();e.remove()}var n=e.extend({},e.ias.defaults,t),r=new e.ias.util,i=new e.ias.paging(n.scrollContainer),s=n.history?new e.ias.history:!1,o=this;u()},e.ias.defaults={container:"#container",scrollContainer:e(window),item:".item",pagination:"#pagination",next:".next",noneleft:!1,loader:'<img src="images/loader.gif"/>',loaderDelay:600,triggerPageThreshold:3,trigger:"Load more items",thresholdMargin:0,history:!0,onPageChange:function(){},beforePageChange:function(){},onLoadItems:function(){},onRenderComplete:function(){},customLoaderProc:!1,customTriggerProc:!1},e.ias.util=function(){function i(){e(window).load(function(){t=!0})}var t=!1,n=!1,r=this;i(),this.forceScrollTop=function(i){e("html,body").scrollTop(0),n||(t?(i.call(),n=!0):setTimeout(function(){r.forceScrollTop(i)},1))},this.getCurrentScrollOffset=function(e){var t,n;return e.get(0)===window?t=e.scrollTop():t=e.offset().top,n=e.height(),t+n}},e.ias.paging=function(){function s(){e(window).scroll(o)}function o(){var t,s,o,f,l;t=i.getCurrentScrollOffset(e(window)),s=u(t),o=a(t),r!==s&&(f=o[0],l=o[1],n.call({},s,f,l)),r=s}function u(e){for(var n=t.length-1;n>0;n--)if(e>t[n][0])return n+1;return 1}function a(e){for(var n=t.length-1;n>=0;n--)if(e>t[n][0])return t[n];return null}var t=[[0,document.location.toString()]],n=function(){},r=1,i=new e.ias.util;s(),this.getCurPageNum=function(t){return t=t||i.getCurrentScrollOffset(e(window)),u(t)},this.onChangePage=function(e){n=e},this.pushPages=function(e,n){t.push([e,n])}}})(jQuery);$.ias({thresholdMargin:-100,triggerPageThreshold:2,history:false,container:'.stylelist',item:'.post',pagination:'.pagination',next:'.next-page a',loader:'<div class="pagination-loading"></div>',trigger:'<div class="load-tip" id="next">\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a\u002e\u002e\u002e</div>',onPageChange:function(pageNum,pageUrl,scrollOffset){window._gaq&&window._gaq.push(['_trackPageview',jQuery('<a/>').attr('href',pageUrl)[0].pathname.replace(/^[^\/]/,'/')])}});$(function(){$(".left .ad img,.left .content img").lazyload({placeholder:bloghost+"zb_users/theme/brieflee/style/images/grey.gif",effect:"fadeIn",threshold:2,failurelimit:5})});jQuery(document).ready(function(){var nav=$(".nav-sousuo");$("#mo-so").click(function(){$(".mini_search").slideToggle()})});jQuery(document).ready(function(){var nav=$(".mobile_aside");$(".nav-sjlogo i").click(function(){$(".mobile_aside").slideToggle()});$(".nav-sjlogo i").click(function(){$(".header-menu").removeClass("header-menu")});$(".nav-sjlogo i").click(function(){$(".sub-menu").toggleClass("m-sub-menu")})});$("<span class='toggle-btn'><i class='fa fa-plus'></i></span>").insertBefore(".sub-menu");jQuery(document).ready(function(){jQuery(".mobile-menu .menu > li").each(function(){jQuery(this).children(".mobile-menu .m-sub-menu").not(".active").css('display','none');jQuery(this).children(".mobile-menu .toggle-btn").bind("click",function(){$('.mobile-menu .m-sub-menu').addClass('active');jQuery(this).children().addClass(function(){if(jQuery(this).hasClass("active")){jQuery(this).removeClass("active");return""}return"active"});jQuery(this).siblings(".mobile-menu .m-sub-menu").slideToggle()})})});$.fn.extend({scrollFollow:function(d){d=d||{};d.container=d.container||$(this).parent();d.bottomObj=d.bottomObj||'';d.bottomMargin=d.bottomMargin||0;d.marginTop=d.marginTop||0;d.marginBottom=d.marginBottom||0;d.zindex=d.zindex||0;var e=$(window);var f=$(this);if(f.length<=0){return false}var g=f.position().top;var h=d.container.height();var i=f.css("position");if(d.bottomObj==''||$(d.bottomObj).length<=0){var j=false}else{var j=true}e.scroll(function(a){var b=f.height();if(f.css("position")==i){g=f.position().top}scrollTop=e.scrollTop();topPosition=Math.max(0,g-scrollTop);if(j==true){var c=$(d.bottomObj).position().top-d.marginBottom-d.marginTop;topPosition=Math.min(topPosition,(c-scrollTop)-b)}if(scrollTop>g){if(j==true&&(g+b>c)){f.css({position:i,top:g})}else{if(window.XMLHttpRequest){f.css({position:"fixed",top:topPosition+d.marginTop,'z-index':d.zindex})}else{f.css({position:"absolute",top:scrollTop+topPosition+d.marginTop+'px','z-index':d.zindex})}}}else{f.css({position:i,top:g})}});return this}});$(document).ready(function(){$(".sidebar .movead").scrollFollow({bottomObj:'.footer',marginTop:72,marginBottom:32})});(function(){var sc=$(document);var tags_a=$("#divTags ul li");tags_a.each(function(){var x=5;var y=0;var rand=parseInt(Math.random()*(x-y+1)+y);$(this).addClass("divTags"+rand)})})();function autoScroll(obj){$('#callboard').find("ul").animate({marginTop:"-29px"},500,function(){$(this).css({marginTop:"0px"}).find("li:first").appendTo(this)})}$(function(){setInterval('autoScroll("#callboard")',3000)});jQuery(document).ready(function($){$('#font-change span').click(function(){var selector='.entry p';var increment=1;var font_size=15;var fs_css=$(selector).css('fontSize');var fs_css_c=parseFloat(fs_css,10);var fs_unit=fs_css.slice(-2);var id=$(this).attr('id');switch(id){case'font-dec':fs_css_c-=increment;break;case'font-inc':fs_css_c+=increment;break;default:fs_css_c=font_size}$(selector).css('fontSize',fs_css_c+fs_unit);return false})});jQuery(document).ready(function($){var datatype=$(".header-nav").attr("data-type");$("#backTop").hide();$(window).scroll(function(){var scrollTop=$(window).scrollTop();if(scrollTop>300){$("#backTop").fadeIn()}else{$("#backTop").fadeOut()}});$('.nav-sjlogo i').click(function(){$('.home').toggleClass('navbar-on')});$('.nav-sjlogo i').click(function(){$('.nav-sjlogo i').toggleClass('active')});$(".menu>li ").each(function(){try{var myid=$(this).attr("id");if("index"==datatype){if(myid=="nvabar-item-index"){$("#nvabar-item-index a:first-child").addClass("on")}}else if("category"==datatype){var infoid=$(".header-nav").attr("data-infoid");if(infoid!=null){var b=infoid.split(' ');for(var i=0;i<b.length;i++){if(myid=="navbar-category-"+b[i]){$("#navbar-category-"+b[i]+" a:first-child").addClass("on")}}}}else if("article"==datatype){var infoid=$(".header-nav").attr("data-infoid");if(infoid!=null){var b=infoid.split(' ');for(var i=0;i<b.length;i++){if(myid=="navbar-category-"+b[i]){$("#navbar-category-"+b[i]+" a:first-child").addClass("on")}}}}else if("page"==datatype){var infoid=$(".header-nav").attr("data-infoid");if(infoid!=null){if(myid=="navbar-page-"+infoid){$("#navbar-page-"+infoid+" a:first-child").addClass("on")}}}else if("tag"==datatype){var infoid=$(".header-nav").attr("data-infoid");if(infoid!=null){if(myid=="navbar-tag-"+infoid){$("#navbar-tag-"+infoid+" a:first-child").addClass("on")}}}}catch(E){}});$(".header-nav").delegate("a","click",function(){$(".menu>li a").each(function(){$(this).removeClass("on")});if($(this).closest("ul")!=null&&$(this).closest("ul").length!=0){if($(this).closest("ul").attr("id")=="menu-navigation"){$(this).addClass("on")}else{$(this).closest("ul").closest("li").find("a:first-child").addClass("on")}}})});$(function(){var nav=$(".header-nav");var win=$(window);var sc=$(document);win.scroll(function(){if(sc.scrollTop()>=132){nav.addClass("fixednav");$(".navTmp").fadeIn()}else{nav.removeClass("fixednav");$(".navTmp").fadeOut()}})});$(document).keypress(function(e){var s=$('.button');if(e.ctrlKey&&e.which==13||e.which==10){s.click();document.body.focus();return}if(e.shiftKey&&e.which==13||e.which==10)s.click()});function addNumber(a){document.getElementById("txaArticle").value+=a}if($('#comment-tools').length){objActive="txaArticle";function InsertText(a,b,c){if(b==""){return("")}var d=document.getElementById(a);if(document.selection){if(d.currPos){if(c&&(d.value=="")){d.currPos.text=b}else{d.currPos.text+=b}}else{d.value+=b}}else{if(c){d.value=d.value.slice(0,d.selectionStart)+b+d.value.slice(d.selectionEnd,d.value.length)}else{d.value=d.value.slice(0,d.selectionStart)+b+d.value.slice(d.selectionStart,d.value.length)}}}function ReplaceText(a,b,c){var d=document.getElementById(a);var e;if(document.selection&&document.selection.type=="Text"){if(d.currPos){var f=document.selection.createRange();f.text=b+f.text+c;return("")}else{e=b+c;return(e)}}else{if(d.selectionStart||d.selectionEnd){e=b+d.value.slice(d.selectionStart,d.selectionEnd)+c;return(e)}else{e=b+c;return(e)}}}if($('#ComtoolsFrame').length){$(this).bind("click",function(a){if(a&&a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}})}}if($('.face-show').length){$("a.face-show").click(function(){$(".ComtoolsFrame").slideToggle()})}function CommentComplete(){if($('.msgarticle,#divNewcomm').length){$('.msgarticle,#divNewcomm').each(function comreplace(){var a=$(this).html();a=a.replace(/\[B\](.*)\[\/B\]/g,'<strong>$1</strong>');a=a.replace(/\[U\](.*)\[\/U\]/g,'<u>$1</u>');a=a.replace(/\[S\](.*)\[\/S\]/g,'<del>$1</del>');a=a.replace(/\[I\](.*)\[\/I\]/g,'<em>$1</em>');a=a.replace(/\[([A-Za-z0-9]*)\]/g,'<img src="'+bloghost+'/zb_users/theme/brieflee/include/emotion/$1.png">');$(this).html(a)})}}CommentComplete();function GetComments(postid,page){$.get(bloghost+"zb_system/cmd.php?act=getcmt&postid="+postid+"&page="+page,function(data){$('#AjaxCommentBegin').nextUntil('#AjaxCommentEnd').remove();$('#AjaxCommentBegin').after(data);CommentComplete()})}
(function(){var MutationObserver,Util,WeakMap,getComputedStyle,getComputedStyleRX,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};Util=(function(){function Util(){}Util.prototype.extend=function(custom,defaults){var key,value;for(key in defaults){value=defaults[key];if(custom[key]==null){custom[key]=value}}return custom};Util.prototype.isMobile=function(agent){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)};Util.prototype.createEvent=function(event,bubble,cancel,detail){var customEvent;if(bubble==null){bubble=false}if(cancel==null){cancel=false}if(detail==null){detail=null}if(document.createEvent!=null){customEvent=document.createEvent('CustomEvent');customEvent.initCustomEvent(event,bubble,cancel,detail)}else if(document.createEventObject!=null){customEvent=document.createEventObject();customEvent.eventType=event}else{customEvent.eventName=event}return customEvent};Util.prototype.emitEvent=function(elem,event){if(elem.dispatchEvent!=null){return elem.dispatchEvent(event)}else if(event in(elem!=null)){return elem[event]()}else if(("on"+event)in(elem!=null)){return elem["on"+event]()}};Util.prototype.addEvent=function(elem,event,fn){if(elem.addEventListener!=null){return elem.addEventListener(event,fn,false)}else if(elem.attachEvent!=null){return elem.attachEvent("on"+event,fn)}else{return elem[event]=fn}};Util.prototype.removeEvent=function(elem,event,fn){if(elem.removeEventListener!=null){return elem.removeEventListener(event,fn,false)}else if(elem.detachEvent!=null){return elem.detachEvent("on"+event,fn)}else{return delete elem[event]}};Util.prototype.innerHeight=function(){if('innerHeight'in window){return window.innerHeight}else{return document.documentElement.clientHeight}};return Util})();WeakMap=this.WeakMap||this.MozWeakMap||(WeakMap=(function(){function WeakMap(){this.keys=[];this.values=[]}WeakMap.prototype.get=function(key){var i,item,j,len,ref;ref=this.keys;for(i=j=0,len=ref.length;j<len;i=++j){item=ref[i];if(item===key){return this.values[i]}}};WeakMap.prototype.set=function(key,value){var i,item,j,len,ref;ref=this.keys;for(i=j=0,len=ref.length;j<len;i=++j){item=ref[i];if(item===key){this.values[i]=value;return}}this.keys.push(key);return this.values.push(value)};return WeakMap})());MutationObserver=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(MutationObserver=(function(){function MutationObserver(){if(typeof console!=="undefined"&&console!==null){console.warn('MutationObserver is not supported by your browser.')}if(typeof console!=="undefined"&&console!==null){console.warn('WOW.js cannot detect dom mutations, please call .sync() after loading new content.')}}MutationObserver.notSupported=true;MutationObserver.prototype.observe=function(){};return MutationObserver})());getComputedStyle=this.getComputedStyle||function(el,pseudo){this.getPropertyValue=function(prop){var ref;if(prop==='float'){prop='styleFloat'}if(getComputedStyleRX.test(prop)){prop.replace(getComputedStyleRX,function(_,_char){return _char.toUpperCase()})}return((ref=el.currentStyle)!=null?ref[prop]:void 0)||null};return this};getComputedStyleRX=/(\-([a-z]){1})/g;this.WOW=(function(){WOW.prototype.defaults={boxClass:'wow',animateClass:'animated',offset:0,mobile:true,live:true,callback:null,scrollContainer:null};function WOW(options){if(options==null){options={}}this.scrollCallback=bind(this.scrollCallback,this);this.scrollHandler=bind(this.scrollHandler,this);this.resetAnimation=bind(this.resetAnimation,this);this.start=bind(this.start,this);this.scrolled=true;this.config=this.util().extend(options,this.defaults);if(options.scrollContainer!=null){this.config.scrollContainer=document.querySelector(options.scrollContainer)}this.animationNameCache=new WeakMap();this.wowEvent=this.util().createEvent(this.config.boxClass)}WOW.prototype.init=function(){var ref;this.element=window.document.documentElement;if((ref=document.readyState)==="interactive"||ref==="complete"){this.start()}else{this.util().addEvent(document,'DOMContentLoaded',this.start)}return this.finished=[]};WOW.prototype.start=function(){var box,j,len,ref;this.stopped=false;this.boxes=(function(){var j,len,ref,results;ref=this.element.querySelectorAll("."+this.config.boxClass);results=[];for(j=0,len=ref.length;j<len;j++){box=ref[j];results.push(box)}return results}).call(this);this.all=(function(){var j,len,ref,results;ref=this.boxes;results=[];for(j=0,len=ref.length;j<len;j++){box=ref[j];results.push(box)}return results}).call(this);if(this.boxes.length){if(this.disabled()){this.resetStyle()}else{ref=this.boxes;for(j=0,len=ref.length;j<len;j++){box=ref[j];this.applyStyle(box,true)}}}if(!this.disabled()){this.util().addEvent(this.config.scrollContainer||window,'scroll',this.scrollHandler);this.util().addEvent(window,'resize',this.scrollHandler);this.interval=setInterval(this.scrollCallback,50)}if(this.config.live){return new MutationObserver((function(_this){return function(records){var k,len1,node,record,results;results=[];for(k=0,len1=records.length;k<len1;k++){record=records[k];results.push((function(){var l,len2,ref1,results1;ref1=record.addedNodes||[];results1=[];for(l=0,len2=ref1.length;l<len2;l++){node=ref1[l];results1.push(this.doSync(node))}return results1}).call(_this))}return results}})(this)).observe(document.body,{childList:true,subtree:true})}};WOW.prototype.stop=function(){this.stopped=true;this.util().removeEvent(this.config.scrollContainer||window,'scroll',this.scrollHandler);this.util().removeEvent(window,'resize',this.scrollHandler);if(this.interval!=null){return clearInterval(this.interval)}};WOW.prototype.sync=function(element){if(MutationObserver.notSupported){return this.doSync(this.element)}};WOW.prototype.doSync=function(element){var box,j,len,ref,results;if(element==null){element=this.element}if(element.nodeType!==1){return}element=element.parentNode||element;ref=element.querySelectorAll("."+this.config.boxClass);results=[];for(j=0,len=ref.length;j<len;j++){box=ref[j];if(indexOf.call(this.all,box)<0){this.boxes.push(box);this.all.push(box);if(this.stopped||this.disabled()){this.resetStyle()}else{this.applyStyle(box,true)}results.push(this.scrolled=true)}else{results.push(void 0)}}return results};WOW.prototype.show=function(box){this.applyStyle(box);box.className=box.className+" "+this.config.animateClass;if(this.config.callback!=null){this.config.callback(box)}this.util().emitEvent(box,this.wowEvent);this.util().addEvent(box,'animationend',this.resetAnimation);this.util().addEvent(box,'oanimationend',this.resetAnimation);this.util().addEvent(box,'webkitAnimationEnd',this.resetAnimation);this.util().addEvent(box,'MSAnimationEnd',this.resetAnimation);return box};WOW.prototype.applyStyle=function(box,hidden){var delay,duration,iteration;duration=box.getAttribute('data-wow-duration');delay=box.getAttribute('data-wow-delay');iteration=box.getAttribute('data-wow-iteration');return this.animate((function(_this){return function(){return _this.customStyle(box,hidden,duration,delay,iteration)}})(this))};WOW.prototype.animate=(function(){if('requestAnimationFrame'in window){return function(callback){return window.requestAnimationFrame(callback)}}else{return function(callback){return callback()}}})();WOW.prototype.resetStyle=function(){var box,j,len,ref,results;ref=this.boxes;results=[];for(j=0,len=ref.length;j<len;j++){box=ref[j];results.push(box.style.visibility='visible')}return results};WOW.prototype.resetAnimation=function(event){var target;if(event.type.toLowerCase().indexOf('animationend')>=0){target=event.target||event.srcElement;return target.className=target.className.replace(this.config.animateClass,'').trim()}};WOW.prototype.customStyle=function(box,hidden,duration,delay,iteration){if(hidden){this.cacheAnimationName(box)}box.style.visibility=hidden?'hidden':'visible';if(duration){this.vendorSet(box.style,{animationDuration:duration})}if(delay){this.vendorSet(box.style,{animationDelay:delay})}if(iteration){this.vendorSet(box.style,{animationIterationCount:iteration})}this.vendorSet(box.style,{animationName:hidden?'none':this.cachedAnimationName(box)});return box};WOW.prototype.vendors=["moz","webkit"];WOW.prototype.vendorSet=function(elem,properties){var name,results,value,vendor;results=[];for(name in properties){value=properties[name];elem[""+name]=value;results.push((function(){var j,len,ref,results1;ref=this.vendors;results1=[];for(j=0,len=ref.length;j<len;j++){vendor=ref[j];results1.push(elem[""+vendor+(name.charAt(0).toUpperCase())+(name.substr(1))]=value)}return results1}).call(this))}return results};WOW.prototype.vendorCSS=function(elem,property){var j,len,ref,result,style,vendor;style=getComputedStyle(elem);result=style.getPropertyCSSValue(property);ref=this.vendors;for(j=0,len=ref.length;j<len;j++){vendor=ref[j];result=result||style.getPropertyCSSValue("-"+vendor+"-"+property)}return result};WOW.prototype.animationName=function(box){var animationName,error;try{animationName=this.vendorCSS(box,'animation-name').cssText}catch(error){animationName=getComputedStyle(box).getPropertyValue('animation-name')}if(animationName==='none'){return''}else{return animationName}};WOW.prototype.cacheAnimationName=function(box){return this.animationNameCache.set(box,this.animationName(box))};WOW.prototype.cachedAnimationName=function(box){return this.animationNameCache.get(box)};WOW.prototype.scrollHandler=function(){return this.scrolled=true};WOW.prototype.scrollCallback=function(){var box;if(this.scrolled){this.scrolled=false;this.boxes=(function(){var j,len,ref,results;ref=this.boxes;results=[];for(j=0,len=ref.length;j<len;j++){box=ref[j];if(!(box)){continue}if(this.isVisible(box)){this.show(box);continue}results.push(box)}return results}).call(this);if(!(this.boxes.length||this.config.live)){return this.stop()}}};WOW.prototype.offsetTop=function(element){var top;while(element.offsetTop===void 0){element=element.parentNode}top=element.offsetTop;while(element=element.offsetParent){top+=element.offsetTop}return top};WOW.prototype.isVisible=function(box){var bottom,offset,top,viewBottom,viewTop;offset=box.getAttribute('data-wow-offset')||this.config.offset;viewTop=(this.config.scrollContainer&&this.config.scrollContainer.scrollTop)||window.pageYOffset;viewBottom=viewTop+Math.min(this.element.clientHeight,this.util().innerHeight())-offset;top=this.offsetTop(box);bottom=top+box.clientHeight;return top<=viewBottom&&bottom>=viewTop};WOW.prototype.util=function(){return this._util!=null?this._util:this._util=new Util()};WOW.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)};return WOW})()}).call(this);